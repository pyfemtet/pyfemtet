<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyfemtet.opt package &mdash; PyFemtet Project  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pyfemtet.opt.interface package" href="pyfemtet.opt.interface.html" />
    <link rel="prev" title="pyfemtet.logger package" href="pyfemtet.logger.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PyFemtet Project
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/advanced_examples.html">Advanced Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/script_builder.html">GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pages/api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pages/api.html#most-major-classes">Most Major Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/api.html#other-major-classes">Other Major Classes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../pages/api.html#entire-reference">Entire Reference</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pyfemtet.html">pyfemtet package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="pyfemtet.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyfemtet.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyfemtet.html#module-pyfemtet">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pages/LICENSE.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyFemtet Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../pages/api.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="pyfemtet.html">pyfemtet package</a></li>
      <li class="breadcrumb-item active">pyfemtet.opt package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/pyfemtet.opt.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyfemtet-opt-package">
<h1>pyfemtet.opt package<a class="headerlink" href="#pyfemtet-opt-package" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.interface.html">pyfemtet.opt.interface package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.meta_script.html">pyfemtet.opt.meta_script package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.optimizer.html">pyfemtet.opt.optimizer package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.prediction.html">pyfemtet.opt.prediction package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.visualization.html">pyfemtet.opt.visualization package</a></li>
</ul>
</div>
</section>
<section id="module-pyfemtet.opt">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyfemtet.opt" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">AbstractOptimizer</span></span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Abstract base class for an interface of optimization library.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.fem">
<span class="sig-name descname"><span class="pre">fem</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.fem" title="Link to this definition"></a></dt>
<dd><p>The finite element method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyfemtet.opt.FEMInterface" title="pyfemtet.opt.FEMInterface">FEMInterface</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.fem_class">
<span class="sig-name descname"><span class="pre">fem_class</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.fem_class" title="Link to this definition"></a></dt>
<dd><p>The class of the finite element method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)">type</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.fem_kwargs">
<span class="sig-name descname"><span class="pre">fem_kwargs</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.fem_kwargs" title="Link to this definition"></a></dt>
<dd><p>The keyword arguments used to instantiate the finite element method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.variables" title="Link to this definition"></a></dt>
<dd><p>The variables using optimization process including parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="pyfemtet.opt.optimizer.parameter.html#pyfemtet.opt.optimizer.parameter.ExpressionEvaluator" title="pyfemtet.opt.optimizer.parameter.ExpressionEvaluator">ExpressionEvaluator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.objectives">
<span class="sig-name descname"><span class="pre">objectives</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.objectives" title="Link to this definition"></a></dt>
<dd><p>A dictionary containing the objective functions used in the optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, Objective]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.constraints">
<span class="sig-name descname"><span class="pre">constraints</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.constraints" title="Link to this definition"></a></dt>
<dd><p>A dictionary containing the constraint functions used in the optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, Constraint]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.history">
<span class="sig-name descname"><span class="pre">history</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.history" title="Link to this definition"></a></dt>
<dd><p>An actor object that records the history of each iteration in the optimization process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyfemtet.opt.History" title="pyfemtet.opt.History">History</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.seed" title="Link to this definition"></a></dt>
<dd><p>The random seed used for random number generation during the optimization process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.f"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>Calculate objectives and constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – Optimization parameters.</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of internal objective values,
un-normalized objective values and
constraint values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.get_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>Returns the parameters in the specified format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The desired format of the parameters.
Can be ‘df’ (DataFrame),
‘values’ (np.ndarray),
‘dict’ or
‘raw’ (list of Variable object).
Defaults to ‘dict’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameters in the specified format.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If an invalid format is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.run">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>Start optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.set_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Key is the name of parameter and
the value is the value of it.
The partial set is available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.AbstractOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.set_parameter_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.AbstractOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>Update parameter with values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – Values of all parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">FEMInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Abstract base class for the interface with FEM software.</p>
<p>Stores information necessary to restore FEMInterface instance in a subprocess.</p>
<p>The concrete class should call super().__init__() with the desired arguments when restoring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – keyword arguments for FEMInterface (re)constructor.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.check_param_value">
<span class="sig-name descname"><span class="pre">check_param_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.check_param_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.check_param_value" title="Link to this definition"></a></dt>
<dd><p>Checks the value of a parameter in the FEM model (if implemented in concrete class).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pyfemtet.opt.FEMInterface.kwargs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.load_constraint">
<span class="sig-name descname"><span class="pre">load_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.load_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.load_constraint" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.load_objective">
<span class="sig-name descname"><span class="pre">load_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.load_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.load_objective" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.load_parameter">
<span class="sig-name descname"><span class="pre">load_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.load_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.load_parameter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.object_passed_to_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_passed_to_functions</span></span><a class="headerlink" href="#pyfemtet.opt.FEMInterface.object_passed_to_functions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.quit">
<span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.quit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.quit" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.update">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.update" title="Link to this definition"></a></dt>
<dd><p>Updates the FEM analysis based on the proposed parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMInterface.update_parameter">
<span class="sig-name descname"><span class="pre">update_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#FEMInterface.update_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMInterface.update_parameter" title="Link to this definition"></a></dt>
<dd><p>Updates only FEM variables (if implemented in concrete class).</p>
<p>If this method is implemented,
it is able to get parameter via FEMInterface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>] | None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">FEMOpt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to control FEM interface and optimizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fem</strong> (<a class="reference internal" href="#pyfemtet.opt.FEMInterface" title="pyfemtet.opt.FEMInterface"><em>FEMInterface</em></a><em>, </em><em>optional</em>) – The FEM software interface.
Defaults to None (automatically set to <a class="reference internal" href="#pyfemtet.opt.FemtetInterface" title="pyfemtet.opt.FemtetInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FemtetInterface</span></code></a>).</p></li>
<li><p><strong>opt</strong> (<a class="reference internal" href="#pyfemtet.opt.AbstractOptimizer" title="pyfemtet.opt.AbstractOptimizer"><em>AbstractOptimizer</em></a><em>, </em><em>optional</em>) – The numerical optimizer object.
Defaults to None (automatically set to <a class="reference internal" href="#pyfemtet.opt.OptunaOptimizer" title="pyfemtet.opt.OptunaOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptunaOptimizer</span></code></a>
with <code class="xref py py-class docutils literal notranslate"><span class="pre">optuna.samplers.TPESampler</span></code>).</p></li>
<li><p><strong>history_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The path to the history file.
Defaults to None.
If None, ‘%Y_%m_%d_%H_%M_%S.csv’ is created in current directory.</p></li>
<li><p><strong>scheduler_address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – <p>When performing cluster computing, please specify the address
of the scheduler computer here.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://pyfemtet.readthedocs.io/en/stable/pages/usage_pages/how_to_deploy_cluster.html">https://pyfemtet.readthedocs.io/en/stable/pages/usage_pages/how_to_deploy_cluster.html</a></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>When specifying and opening a femprj and model, we write</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyfemtet.opt</span><span class="w"> </span><span class="kn">import</span> <span class="n">FEMOpt</span><span class="p">,</span> <span class="n">FemtetInterface</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">fem</span> <span class="o">=</span> <span class="n">FemtetInterface</span><span class="p">(</span><span class="n">femprj_path</span><span class="o">=</span><span class="s1">&#39;path/to/project.femprj&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;NewModel&#39;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span> <span class="o">=</span> <span class="n">FEMOpt</span><span class="p">(</span><span class="n">fem</span><span class="o">=</span><span class="n">fem</span><span class="p">)</span>  
</pre></div>
</div>
<p>When specifying optimization algorithm, we write</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">optuna.samplers</span><span class="w"> </span><span class="kn">import</span> <span class="n">TPESampler</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyfemtet.opt</span><span class="w"> </span><span class="kn">import</span> <span class="n">FEMOpt</span><span class="p">,</span> <span class="n">OptunaOptimizer</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">opt</span> <span class="o">=</span> <span class="n">OptunaOptimizer</span><span class="p">(</span><span class="n">sampler_class</span><span class="o">=</span><span class="n">TPESampler</span><span class="p">,</span> <span class="n">sampler_kwargs</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">n_startup_trials</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span> <span class="o">=</span> <span class="n">FEMOpt</span><span class="p">(</span><span class="n">opt</span><span class="o">=</span><span class="n">opt</span><span class="p">)</span>  
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.add_constraint">
<span class="sig-name descname"><span class="pre">add_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">using_fem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.add_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.add_constraint" title="Link to this definition"></a></dt>
<dd><p>Adds a constraint to the optimization problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<em>callable</em>) – The constraint function.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The name of the constraint. Defaults to None.</p></li>
<li><p><strong>lower_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>Non</em><em>, </em><em>optional</em>) – The lower bound of the constraint. Defaults to None.</p></li>
<li><p><strong>upper_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>Non</em><em>, </em><em>optional</em>) – The upper bound of the constraint. Defaults to None.</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Flag indicating if it is a strict constraint. Defaults to True.</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Additional arguments for the constraint function. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Additional arguments for the constraint function. Defaults to None.</p></li>
<li><p><strong>using_fem</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Using FEM or not in the constraint function. It may make the processing time in strict constraints in BoTorchSampler. Defaults to None. If None, PyFemtet checks the access to Femtet and estimate using Femtet or not automatically.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When <code class="docutils literal notranslate"><span class="pre">`strict`</span></code> == True and using OptunaOptimizer along with <code class="xref py py-class docutils literal notranslate"><span class="pre">PoFBoTorchSampler</span></code>,
PyFemtet will solve an optimization subproblem to propose new variables.
During this process, the constraint function <code class="docutils literal notranslate"><span class="pre">`fun`</span></code> will be executed at each
iteration of the subproblem, which may include time-consuming operations such
as retrieving 3D model information via FEMInterface.
As a result, it may not be feasible to complete the overall optimization within
a realistic timeframe.</p>
<dl>
<dt>Examples:</dt><dd><p>For example, in a case where the bottom area of the model is constrained,
the following approach may require a very long time.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">bottom_area</span><span class="p">(</span><span class="n">Femtet</span><span class="p">,</span> <span class="n">opt</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="n">w</span> <span class="o">=</span> <span class="n">Femtet</span><span class="o">.</span><span class="n">GetVariableValue</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">)</span>  
<span class="gp">... </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">Femtet</span><span class="o">.</span><span class="n">GetVariableValue</span><span class="p">(</span><span class="s1">&#39;depth&#39;</span><span class="p">)</span>  
<span class="gp">... </span>    <span class="k">return</span> <span class="n">w</span> <span class="o">*</span> <span class="n">d</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  
</pre></div>
</div>
<p>Instead, please do the following.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">bottom_area</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">opt</span><span class="p">):</span>  <span class="c1"># Not to access the 1st argument.  </span>
<span class="gp">... </span>    <span class="n">params</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">get_parameter</span><span class="p">()</span>  
<span class="gp">... </span>    <span class="n">w</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">],</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]</span>  
<span class="gp">... </span>    <span class="k">return</span> <span class="n">w</span> <span class="o">*</span> <span class="n">d</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">femopt</span><span class="o">.</span><span class="n">opt</span><span class="p">,))</span>  
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the FEMInterface is FemtetInterface, the 1st argument of fun should be Femtet (IPyDispatch) object.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If name is None, name is a string with the prefix <cite>“cns_”</cite> followed by a sequential number.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.add_expression">
<span class="sig-name descname"><span class="pre">add_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_to_fem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.add_expression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.add_expression" title="Link to this definition"></a></dt>
<dd><p>Add expression to the optimization problem.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is highly experimental and
may change in the future.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the variable.</p></li>
<li><p><strong>fun</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em>) – An expression function. The arguments that you want to use as input variables must be the same with <code class="docutils literal notranslate"><span class="pre">name</span></code> of Variable objects added by <code class="docutils literal notranslate"><span class="pre">add_parameter()</span></code> or <code class="docutils literal notranslate"><span class="pre">add_expression()</span></code>. If you use other objects as argument of the function, you must specify <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>.</p></li>
<li><p><strong>properties</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em><em>, </em><em>optional</em>) – Additional information about the parameter. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>]</em><em>, </em><em>optional</em>) – Remaining arguments of <code class="docutils literal notranslate"><span class="pre">fun</span></code>. Defaults to None.</p></li>
<li><p><strong>pass_to_fem</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If this variable is used directly in FEM model update or not. If False, this variable can be just used as inpt of other expressions. Defaults to True.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>When adding variable a and b; a is not directly included as model
variables but an optimization parameter, b is not a parameter but
a model variable and the relationship of these 2 variables is
<code class="docutils literal notranslate"><span class="pre">`b</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">**</span> <span class="pre">2`</span></code>, we write:</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">calc_b</span><span class="p">(</span><span class="n">parameter_a</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="k">return</span> <span class="n">parameter_a</span> <span class="o">**</span> <span class="mi">2</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;parameter_a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pass_to_fem</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_expression</span><span class="p">(</span><span class="s1">&#39;variable_b&#39;</span><span class="p">,</span> <span class="n">calc_b</span><span class="p">)</span>  
</pre></div>
</div>
<dl class="simple">
<dt>Notes:</dt><dd><p>The argument names of function to calculate variable
must match the <code class="docutils literal notranslate"><span class="pre">`name`</span></code> of the parameter.</p>
</dd>
<dt>Notes:</dt><dd><p>In this case, only strings that can be used as Python variables are valid
for <code class="docutils literal notranslate"><span class="pre">`name`</span></code> argument of <a class="reference internal" href="#pyfemtet.opt.FEMOpt.add_parameter" title="pyfemtet.opt.FEMOpt.add_parameter"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMOpt.add_parameter()</span></code></a>.</p>
</dd>
</dl>
</div></blockquote>
<p>When adding variable r, theta and x, y; r, theta is an optimization
parameter and x, y is an intermediate variable to calculate constraint
function, we write</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">calc_x</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">theta</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="k">return</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">calc_y</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">theta</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="k">return</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">constraint</span><span class="p">(</span><span class="n">Femtet</span><span class="p">,</span> <span class="n">opt</span><span class="p">:</span> <span class="n">AbstractOptimizer</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">variables</span><span class="o">.</span><span class="n">get_variables</span><span class="p">()</span>  
<span class="gp">... </span>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>  
<span class="gp">... </span>    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;theta&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_expression</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">calc_x</span><span class="p">,</span> <span class="n">pass_to_fem</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_expression</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">calc_y</span><span class="p">,</span> <span class="n">pass_to_fem</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">femopt</span><span class="o">.</span><span class="n">opt</span><span class="p">,))</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.add_objective">
<span class="sig-name descname"><span class="pre">add_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'minimize'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.add_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.add_objective" title="Link to this definition"></a></dt>
<dd><p>Adds an objective to the optimization problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The objective function. This argument is optional but</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The name of the objective. Defaults to None.</p></li>
<li><p><strong>direction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The optimization direction. Varid values are ‘maximize’, ‘minimize’ or a float value. Defaults to ‘minimize’.</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Additional arguments for the objective function. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Additional keyword arguments for the objective function. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the FEMInterface is FemtetInterface, the 1st argument of fun should be Femtet (IPyDispatch) object.</p>
</div>
<p class="rubric">Examples</p>
<p>When add a complex objective (for example, want to dynamically set body
to calculate temperature and use product of the temperature and one of
the parameters as objective) , we write</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="p">:</span>  
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">get_body_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  
<span class="gp">... </span>        <span class="o">...</span>  <span class="c1"># process something and detect body name  </span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">body_name</span>  
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">complex_objective</span><span class="p">(</span><span class="n">Femtet</span><span class="p">,</span> <span class="n">opt</span><span class="p">,</span> <span class="n">some_object</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="n">body_name</span> <span class="o">=</span> <span class="n">some_object</span><span class="o">.</span><span class="n">get_body_name</span><span class="p">()</span>  <span class="c1"># dynamically get body name to calculate temperature  </span>
<span class="gp">... </span>    <span class="n">temp</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Femtet</span><span class="o">.</span><span class="n">Gogh</span><span class="o">.</span><span class="n">Watt</span><span class="o">.</span><span class="n">GetTemp</span><span class="p">(</span><span class="n">body_name</span><span class="p">)</span>  <span class="c1"># calculate temperature  </span>
<span class="gp">... </span>    <span class="n">some_param</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">get_parameter</span><span class="p">()[</span><span class="s1">&#39;some_param&#39;</span><span class="p">]</span>  <span class="c1"># get ome parameter  </span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">temp</span> <span class="o">*</span> <span class="n">some_param</span>  <span class="c1"># calculate something and return it  </span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="n">complex_objective</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">femopt</span><span class="o">.</span><span class="n">opt</span><span class="p">,</span> <span class="n">my_obj</span><span class="p">,))</span>  
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If name is None, name is a string with the prefix <cite>“obj_”</cite> followed by a sequential number.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.add_objectives">
<span class="sig-name descname"><span class="pre">add_objectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_return</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.add_objectives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.add_objectives" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fun</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><em>Callable</em></a><em>[</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><em>Sequence</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.SupportsFloat" title="(in Python v3.13)"><em>SupportsFloat</em></a><em>]</em><em>]</em>) – </p></li>
<li><p><strong>n_return</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – </p></li>
<li><p><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
<li><p><strong>directions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a>) – </p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.add_parameter">
<span class="sig-name descname"><span class="pre">add_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_to_fem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.add_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.add_parameter" title="Link to this definition"></a></dt>
<dd><p>Adds a parameter to the optimization problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the parameter.</p></li>
<li><p><strong>initial_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The initial value of the parameter. Defaults to None. If None, try to get initial value from FEMInterface.</p></li>
<li><p><strong>lower_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The lower bound of the parameter. Defaults to None. Some optimization algorithms require this.</p></li>
<li><p><strong>upper_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The upper bound of the parameter. Defaults to None. Some optimization algorithms require this.</p></li>
<li><p><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The step of parameter. If specified, parameter is used as discrete. Defaults to None.</p></li>
<li><p><strong>properties</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em><em>, </em><em>optional</em>) – Additional information about the parameter. Defaults to None.</p></li>
<li><p><strong>pass_to_fem</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If this variable is used directly in FEM model update or not. If False, this parameter can be just used as inpt of expressions. Defaults to True.</p></li>
<li><p><strong>fix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optiona</em>) – パラメータを initial_value で固定します。
開発時にパラメータを振るか振らないかを
簡単に変更するための便利引数です。
True のとき、lower_bound, upper_bound, step, properties の
値は、有効かどうかのチェックには使われますが、最適化では
使われなくなります。
デフォルトは False です。</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If initial_value is not specified and the value for the given name is also not specified in FEM.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>When adding parameter a (-1 &lt;= a &lt;= 1; initial value is 0), we write</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;parameter_a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">`note`</span></code> argument can be set any name in this case.</p>
</div></blockquote>
<p>When adding discrete parameter a (-1 &lt;= a &lt;= 1; initial value is 0,
step 0.5), we write</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">femopt</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;parameter a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.get_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.get_parameter" title="Link to this definition"></a></dt>
<dd><p>Deprecated method.</p>
<p>Planed to remove in future version. Use FEMOpt.opt.get_parameter() instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_setup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confirm_before_exit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.optimize" title="Link to this definition"></a></dt>
<dd><p>Runs the main optimization process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_trials</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of trials.
Defaults to None.</p></li>
<li><p><strong>n_parallel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of parallel processes.
Defaults to 1.
Note that even if this argument is 1,
<a class="reference internal" href="#pyfemtet.opt.FEMOpt" title="pyfemtet.opt.FEMOpt"><code class="xref py py-class docutils literal notranslate"><span class="pre">FEMOpt</span></code></a> makes some child processes
to run process monitor, status monitor, etc.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The maximum amount of time in seconds
that each trial can run.
Defaults to None.</p></li>
<li><p><strong>wait_setup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Wait for all workers launching FEM system.
Defaults to True.</p></li>
<li><p><strong>confirm_before_exit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Insert stop before exit to continue to
show process monitor.</p></li>
</ul>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If set_monitor_host() is not executed,
a local server for monitoring will be
started at localhost:8080.</p>
<dl class="simple">
<dt>See Also:</dt><dd><p><a class="reference internal" href="#pyfemtet.opt.FEMOpt.set_monitor_host" title="pyfemtet.opt.FEMOpt.set_monitor_host"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMOpt.set_monitor_host()</span></code></a></p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">n_trials</span></code> and <code class="docutils literal notranslate"><span class="pre">timeout</span></code> are both None,
it runs forever until interrupting by the user.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">n_parallel</span></code> &gt;= 2, depending on the end timing,
<code class="docutils literal notranslate"><span class="pre">n_trials</span></code> may be exceeded by up to <code class="docutils literal notranslate"><span class="pre">n_parallel-1</span></code> times.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If <code class="docutils literal notranslate"><span class="pre">n_parallel</span></code> &gt;= 2 and <code class="docutils literal notranslate"><span class="pre">fem</span></code> is a subclass of
<code class="docutils literal notranslate"><span class="pre">FemtetInterface</span></code>, the <code class="docutils literal notranslate"><span class="pre">strictly_pid_specify</span></code> of
subprocess is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.
So <strong>it is recommended to close all other Femtet processes
before running.</strong></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.set_monitor_host">
<span class="sig-name descname"><span class="pre">set_monitor_host</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.set_monitor_host"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.set_monitor_host" title="Link to this definition"></a></dt>
<dd><p>Sets the host IP address and the port of the process monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The hostname or IP address of the monitor server.</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The port number of the monitor server.
If None, <code class="docutils literal notranslate"><span class="pre">8080</span></code> will be used.
Defaults to None.</p></li>
</ul>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Specifying host <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code> allows viewing monitor
from all computers on the local network.</p>
<p>If no hostname is specified, the monitor server
will be hosted on <code class="docutils literal notranslate"><span class="pre">localhost</span></code>.</p>
<p>We can access process monitor by accessing
<code class="docutils literal notranslate"><span class="pre">`localhost:8080`</span></code> on our browser by default.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.set_random_seed">
<span class="sig-name descname"><span class="pre">set_random_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.set_random_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.set_random_seed" title="Link to this definition"></a></dt>
<dd><p>Sets the random seed for reproducibility.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The random seed value to be set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FEMOpt.terminate_all">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">terminate_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt.html#FEMOpt.terminate_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FEMOpt.terminate_all" title="Link to this definition"></a></dt>
<dd><p>Deprecated method. We plan to remove this in future version.</p>
<p>In current version, the termination processes are
automatically execute in the last of <a class="reference internal" href="#pyfemtet.opt.FEMOpt.optimize" title="pyfemtet.opt.FEMOpt.optimize"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMOpt.optimize()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">FemtetInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">femprj_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_pdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strictly_pid_specify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_without_project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open_result_with_gui</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parametric_output_indexes_use_as_objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.interface.html#pyfemtet.opt.interface.FEMInterface" title="pyfemtet.opt.interface._base.FEMInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FEMInterface</span></code></a></p>
<p>Control Femtet from optimizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>femprj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The path to the project file.
If not specified, get it from connected Femtet.</p></li>
<li><p><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the model.
If not specified, get it from connected Femtet or the
first model when Femtet open the project file.</p></li>
<li><p><strong>connect_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The connection method.
Default is ‘auto’. Other valid values are ‘new’ or ‘existing’.</p></li>
<li><p><strong>save_pdt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The type to save result file.
Valid values are ‘all’, ‘none’ or ‘optimal’.
Default is ‘all’.</p></li>
<li><p><strong>strictly_pid_specify</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to strictly specify the PID in Femtet connection.
Default is True.</p></li>
<li><p><strong>allow_without_project</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to allow without a project. Default is False.</p></li>
<li><p><strong>open_result_with_gui</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to open the result with GUI. Default is True.</p></li>
<li><p><strong>parametric_output_indexes_use_as_objective</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em><em>, </em><em>optional</em>) – <p>A list of parametric output indexes and its direction
to use as the objective function. If not specified,
it will be None and no parametric outputs are used
as objectives.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Indexes start at 0, but the parametric analysis
output settings in the Femtet dialog box indicate
setting numbers starting at 1.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Setting this argument deletes the parametric
analysis swept table set in the femprj file.</strong>
If you do not want to delete the swept table,
make a copy of the original file.</p>
</div>
</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments from inherited classes.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Even if you specify <code class="docutils literal notranslate"><span class="pre">strictly_pid_specify=True</span></code> on the constructor,
<strong>the connection behavior is like</strong> <code class="docutils literal notranslate"><span class="pre">strictly_pid_specify=False</span></code> <strong>in parallel processing</strong>
because of its large overhead.
So you should close all Femtet processes before running FEMOpt.optimize()
if <code class="docutils literal notranslate"><span class="pre">n_parallel</span></code> &gt;= 2.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you search for information about the method to
connect python and Femtet, see <a class="reference internal" href="#pyfemtet.opt.FemtetInterface.connect_femtet" title="pyfemtet.opt.FemtetInterface.connect_femtet"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect_femtet()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.check_param_value">
<span class="sig-name descname"><span class="pre">check_param_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.check_param_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.check_param_value" title="Link to this definition"></a></dt>
<dd><p>Check param_name is set in femprj file or not.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function works with Femtet version 2023.1.1 and above.
Otherwise, no check is performed.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.connect_femtet">
<span class="sig-name descname"><span class="pre">connect_femtet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connect_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.connect_femtet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.connect_femtet" title="Link to this definition"></a></dt>
<dd><p>Connects to a Femtet process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connect_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The connection method. Can be ‘new’, ‘existing’, or ‘auto’. Defaults to ‘auto’.</p></li>
<li><p><strong>pid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The process ID of an existing Femtet process and wanted to connect.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When connect_method is ‘new’, starts a new Femtet process and connects to it.
<cite>pid</cite> will be ignored.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When ‘existing’, connect to an existing Femtet process.
However, if there are no Femtets to which it can connect
(i.e. already connected to another Python or Excel process),
it throws an exception.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When set to ‘auto’, first tries ‘existing’, and if that fails, connects with ‘new’.
If <cite>pid</cite> is specified and failed to connect,
it will not try existing another Femtet process.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.femtet_is_alive">
<span class="sig-name descname"><span class="pre">femtet_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.femtet_is_alive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.femtet_is_alive" title="Link to this definition"></a></dt>
<dd><p>Returns connected femtet process is existing or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.kwargs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.load_constraint">
<span class="sig-name descname"><span class="pre">load_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.load_constraint" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.load_objective">
<span class="sig-name descname"><span class="pre">load_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.load_objective" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.load_parameter">
<span class="sig-name descname"><span class="pre">load_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.load_parameter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.object_passed_to_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_passed_to_functions</span></span><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.object_passed_to_functions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">femprj_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.open" title="Link to this definition"></a></dt>
<dd><p>Open specific analysis model with connected Femtet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>femprj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
<li><p><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Femtet</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.postprocess" title="Link to this definition"></a></dt>
<dd><p>A method called just after <a class="reference internal" href="#pyfemtet.opt.FemtetInterface.solve" title="pyfemtet.opt.FemtetInterface.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p>
<p>This method is called just after solve.
By inheriting from the Interface class
and overriding this method, it is possible
to perform any desired postprocessing after
the solve and before evaluating objectives.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.preprocess">
<span class="sig-name descname"><span class="pre">preprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Femtet</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.preprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.preprocess" title="Link to this definition"></a></dt>
<dd><p>A method called just before <a class="reference internal" href="#pyfemtet.opt.FemtetInterface.solve" title="pyfemtet.opt.FemtetInterface.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p>
<p>This method is called just before solve.
By inheriting from the Interface class
and overriding this method, it is possible
to perform any desired preprocessing after
the model update and before solving.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.quit">
<span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.quit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.quit" title="Link to this definition"></a></dt>
<dd><p>Force to terminate connected Femtet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.solve" title="Link to this definition"></a></dt>
<dd><p>Execute FEM analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.update" title="Link to this definition"></a></dt>
<dd><p>See <a class="reference internal" href="#pyfemtet.opt.FEMInterface.update" title="pyfemtet.opt.FEMInterface.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMInterface.update()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.update_model">
<span class="sig-name descname"><span class="pre">update_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.update_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.update_model" title="Link to this definition"></a></dt>
<dd><p>Updates the analysis model only.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>] | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.update_parameter">
<span class="sig-name descname"><span class="pre">update_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.update_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.update_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter of femprj.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetInterface.use_parametric_output_as_objective">
<span class="sig-name descname"><span class="pre">use_parametric_output_as_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'minimize'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet.html#FemtetInterface.use_parametric_output_as_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetInterface.use_parametric_output_as_objective" title="Link to this definition"></a></dt>
<dd><p>Use output setting of Femtet parametric analysis as an objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of output settings tab in parametric analysis dialog of Femtet. Starts at 1.</p></li>
<li><p><strong>direction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Objective direction. Valid input is one of ‘minimize’, ‘maximize’ or a specific value. Defaults to ‘minimize’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">FemtetWithNXInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prt_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_curves</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_surfaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_solids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_flattened_assembly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_nx/_interface.html#FemtetWithNXInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.interface.html#pyfemtet.opt.interface.FemtetInterface" title="pyfemtet.opt.interface._femtet.FemtetInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FemtetInterface</span></code></a></p>
<p>Control Femtet and NX.</p>
<p>Using this class, you can import CAD files created
in NX through the Parasolid format into a
Femtet project. It allows you to pass design
variables to NX, update the model, and
perform analysis using the updated model in Femtet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prt_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to .prt file containing the
CAD data from which the import is made.</p></li>
<li><p><strong>export_curves</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Defaults to None.</p></li>
<li><p><strong>export_surfaces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Defaults to None.</p></li>
<li><p><strong>export_solids</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Defaults to None.</p></li>
<li><p><strong>export_flattened_assembly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Defaults to None.</p></li>
<li><p><strong>**kwargs</strong> – For other arguments, please refer to the
<a class="reference internal" href="#pyfemtet.opt.FemtetInterface" title="pyfemtet.opt.FemtetInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FemtetInterface</span></code></a> class.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">`export_*`</span></code> arguments sets
parasolid export setting of NX.
If None, PyFemtet does not change
the current setting of NX.</p>
<p>It is recommended not to change these values
from the settings used when exporting the
Parasolid that was imported into Femtet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.check_param_value">
<span class="sig-name descname"><span class="pre">check_param_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_nx/_interface.html#FemtetWithNXInterface.check_param_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.check_param_value" title="Link to this definition"></a></dt>
<dd><p>Override FemtetInterface.check_param_value().</p>
<p>Do nothing because the parameter can be registered
to not only .femprj but also .prt.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.connect_femtet">
<span class="sig-name descname"><span class="pre">connect_femtet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connect_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.connect_femtet" title="Link to this definition"></a></dt>
<dd><p>Connects to a Femtet process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connect_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The connection method. Can be ‘new’, ‘existing’, or ‘auto’. Defaults to ‘auto’.</p></li>
<li><p><strong>pid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The process ID of an existing Femtet process and wanted to connect.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When connect_method is ‘new’, starts a new Femtet process and connects to it.
<cite>pid</cite> will be ignored.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When ‘existing’, connect to an existing Femtet process.
However, if there are no Femtets to which it can connect
(i.e. already connected to another Python or Excel process),
it throws an exception.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When set to ‘auto’, first tries ‘existing’, and if that fails, connects with ‘new’.
If <cite>pid</cite> is specified and failed to connect,
it will not try existing another Femtet process.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.femtet_is_alive">
<span class="sig-name descname"><span class="pre">femtet_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.femtet_is_alive" title="Link to this definition"></a></dt>
<dd><p>Returns connected femtet process is existing or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.kwargs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.load_constraint">
<span class="sig-name descname"><span class="pre">load_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.load_constraint" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.load_objective">
<span class="sig-name descname"><span class="pre">load_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.load_objective" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.load_parameter">
<span class="sig-name descname"><span class="pre">load_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.load_parameter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.object_passed_to_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_passed_to_functions</span></span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.object_passed_to_functions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">femprj_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.open" title="Link to this definition"></a></dt>
<dd><p>Open specific analysis model with connected Femtet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>femprj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
<li><p><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Femtet</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.postprocess" title="Link to this definition"></a></dt>
<dd><p>A method called just after <a class="reference internal" href="#pyfemtet.opt.FemtetWithNXInterface.solve" title="pyfemtet.opt.FemtetWithNXInterface.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p>
<p>This method is called just after solve.
By inheriting from the Interface class
and overriding this method, it is possible
to perform any desired postprocessing after
the solve and before evaluating objectives.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.preprocess">
<span class="sig-name descname"><span class="pre">preprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Femtet</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.preprocess" title="Link to this definition"></a></dt>
<dd><p>A method called just before <a class="reference internal" href="#pyfemtet.opt.FemtetWithNXInterface.solve" title="pyfemtet.opt.FemtetWithNXInterface.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p>
<p>This method is called just before solve.
By inheriting from the Interface class
and overriding this method, it is possible
to perform any desired preprocessing after
the model update and before solving.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.quit">
<span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.quit" title="Link to this definition"></a></dt>
<dd><p>Force to terminate connected Femtet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.solve" title="Link to this definition"></a></dt>
<dd><p>Execute FEM analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.update" title="Link to this definition"></a></dt>
<dd><p>See <a class="reference internal" href="#pyfemtet.opt.FEMInterface.update" title="pyfemtet.opt.FEMInterface.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMInterface.update()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.update_model">
<span class="sig-name descname"><span class="pre">update_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_nx/_interface.html#FemtetWithNXInterface.update_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.update_model" title="Link to this definition"></a></dt>
<dd><p>Update .x_t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.update_parameter">
<span class="sig-name descname"><span class="pre">update_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.update_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter of femprj.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithNXInterface.use_parametric_output_as_objective">
<span class="sig-name descname"><span class="pre">use_parametric_output_as_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'minimize'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithNXInterface.use_parametric_output_as_objective" title="Link to this definition"></a></dt>
<dd><p>Use output setting of Femtet parametric analysis as an objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of output settings tab in parametric analysis dialog of Femtet. Starts at 1.</p></li>
<li><p><strong>direction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Objective direction. Valid input is one of ‘minimize’, ‘maximize’ or a specific value. Defaults to ‘minimize’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">FemtetWithSolidworksInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sldprt_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quit_sldworks_on_terminate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_sldworks.html#FemtetWithSolidworksInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.interface.html#pyfemtet.opt.interface.FemtetInterface" title="pyfemtet.opt.interface._femtet.FemtetInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FemtetInterface</span></code></a></p>
<p>Control Femtet and Solidworks.</p>
<p>Using this class, you can import CAD files created
in Solidworks through the Parasolid format into a
Femtet project. It allows you to pass design
variables to Solidworks, update the model, and
perform analysis using the updated model in Femtet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sldprt_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to .sldprt file containing the
CAD data from which the import is made.</p></li>
<li><p><strong>**kwargs</strong> – For other arguments, please refer to the
<a class="reference internal" href="#pyfemtet.opt.FemtetInterface" title="pyfemtet.opt.FemtetInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FemtetInterface</span></code></a> class.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.check_param_value">
<span class="sig-name descname"><span class="pre">check_param_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_sldworks.html#FemtetWithSolidworksInterface.check_param_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.check_param_value" title="Link to this definition"></a></dt>
<dd><p>Override FemtetInterface.check_param_value().</p>
<p>Do nothing because the parameter can be registered
to not only .femprj but also .SLDPRT.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.connect_femtet">
<span class="sig-name descname"><span class="pre">connect_femtet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connect_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.connect_femtet" title="Link to this definition"></a></dt>
<dd><p>Connects to a Femtet process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connect_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The connection method. Can be ‘new’, ‘existing’, or ‘auto’. Defaults to ‘auto’.</p></li>
<li><p><strong>pid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The process ID of an existing Femtet process and wanted to connect.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When connect_method is ‘new’, starts a new Femtet process and connects to it.
<cite>pid</cite> will be ignored.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When ‘existing’, connect to an existing Femtet process.
However, if there are no Femtets to which it can connect
(i.e. already connected to another Python or Excel process),
it throws an exception.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When set to ‘auto’, first tries ‘existing’, and if that fails, connects with ‘new’.
If <cite>pid</cite> is specified and failed to connect,
it will not try existing another Femtet process.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.femtet_is_alive">
<span class="sig-name descname"><span class="pre">femtet_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.femtet_is_alive" title="Link to this definition"></a></dt>
<dd><p>Returns connected femtet process is existing or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.initialize_sldworks_connection">
<span class="sig-name descname"><span class="pre">initialize_sldworks_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_sldworks.html#FemtetWithSolidworksInterface.initialize_sldworks_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.initialize_sldworks_connection" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.kwargs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.load_constraint">
<span class="sig-name descname"><span class="pre">load_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.load_constraint" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.load_objective">
<span class="sig-name descname"><span class="pre">load_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.load_objective" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.load_parameter">
<span class="sig-name descname"><span class="pre">load_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.load_parameter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.object_passed_to_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_passed_to_functions</span></span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.object_passed_to_functions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">femprj_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.open" title="Link to this definition"></a></dt>
<dd><p>Open specific analysis model with connected Femtet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>femprj_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
<li><p><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Femtet</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.postprocess" title="Link to this definition"></a></dt>
<dd><p>A method called just after <a class="reference internal" href="#pyfemtet.opt.FemtetWithSolidworksInterface.solve" title="pyfemtet.opt.FemtetWithSolidworksInterface.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p>
<p>This method is called just after solve.
By inheriting from the Interface class
and overriding this method, it is possible
to perform any desired postprocessing after
the solve and before evaluating objectives.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.preprocess">
<span class="sig-name descname"><span class="pre">preprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Femtet</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.preprocess" title="Link to this definition"></a></dt>
<dd><p>A method called just before <a class="reference internal" href="#pyfemtet.opt.FemtetWithSolidworksInterface.solve" title="pyfemtet.opt.FemtetWithSolidworksInterface.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.</p>
<p>This method is called just before solve.
By inheriting from the Interface class
and overriding this method, it is possible
to perform any desired preprocessing after
the model update and before solving.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.quit">
<span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_sldworks.html#FemtetWithSolidworksInterface.quit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.quit" title="Link to this definition"></a></dt>
<dd><p>Force to terminate connected Femtet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.solve" title="Link to this definition"></a></dt>
<dd><p>Execute FEM analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swAllConfiguration">
<span class="sig-name descname"><span class="pre">swAllConfiguration</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swAllConfiguration" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swDocPART">
<span class="sig-name descname"><span class="pre">swDocPART</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swDocPART" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swSaveAsCurrentVersion">
<span class="sig-name descname"><span class="pre">swSaveAsCurrentVersion</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swSaveAsCurrentVersion" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swSaveAsOptions_Copy">
<span class="sig-name descname"><span class="pre">swSaveAsOptions_Copy</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swSaveAsOptions_Copy" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swSaveAsOptions_Silent">
<span class="sig-name descname"><span class="pre">swSaveAsOptions_Silent</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swSaveAsOptions_Silent" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swSaveWithReferencesOptions_None">
<span class="sig-name descname"><span class="pre">swSaveWithReferencesOptions_None</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swSaveWithReferencesOptions_None" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swSpecifyConfiguration">
<span class="sig-name descname"><span class="pre">swSpecifyConfiguration</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swSpecifyConfiguration" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.swThisConfiguration">
<span class="sig-name descname"><span class="pre">swThisConfiguration</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.swThisConfiguration" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.update" title="Link to this definition"></a></dt>
<dd><p>See <a class="reference internal" href="#pyfemtet.opt.FEMInterface.update" title="pyfemtet.opt.FEMInterface.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMInterface.update()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.update_model">
<span class="sig-name descname"><span class="pre">update_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_sldworks.html#FemtetWithSolidworksInterface.update_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.update_model" title="Link to this definition"></a></dt>
<dd><p>Update .x_t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.update_parameter">
<span class="sig-name descname"><span class="pre">update_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.update_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter of femprj.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.update_sw_model">
<span class="sig-name descname"><span class="pre">update_sw_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_t_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_femtet_with_sldworks.html#FemtetWithSolidworksInterface.update_sw_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.update_sw_model" title="Link to this definition"></a></dt>
<dd><p>Update .sldprt</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.FemtetWithSolidworksInterface.use_parametric_output_as_objective">
<span class="sig-name descname"><span class="pre">use_parametric_output_as_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'minimize'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.FemtetWithSolidworksInterface.use_parametric_output_as_objective" title="Link to this definition"></a></dt>
<dd><p>Use output setting of Femtet parametric analysis as an objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of output settings tab in parametric analysis dialog of Femtet. Starts at 1.</p></li>
<li><p><strong>direction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Objective direction. Valid input is one of ‘minimize’, ‘maximize’ or a specific value. Defaults to ‘minimize’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.History">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">History</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prm_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cns_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hv_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for managing the history of optimization results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the csv file.</p></li>
<li><p><strong>prm_names</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – The names of parameters. Defaults to None.</p></li>
<li><p><strong>obj_names</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – The names of objectives. Defaults to None.</p></li>
<li><p><strong>cns_names</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – The names of constraints. Defaults to None.</p></li>
<li><p><strong>client</strong> (<em>dask.distributed.Client</em>) – Dask client.</p></li>
<li><p><strong>hv_reference</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>np.ndarray</em><em>, </em><em>optional</em>) – The method to calculate hypervolume or
the reference point itself.
Valid values are ‘dynamic-pareto’ or
‘dynamic-nadir’ or ‘nadir’ or ‘pareto’
or fixed point (in objective function space).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.ENCODING">
<span class="sig-name descname"><span class="pre">ENCODING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'932'</span></em><a class="headerlink" href="#pyfemtet.opt.History.ENCODING" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.HEADER_ROW">
<span class="sig-name descname"><span class="pre">HEADER_ROW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#pyfemtet.opt.History.HEADER_ROW" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.cns_names">
<span class="sig-name descname"><span class="pre">cns_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#pyfemtet.opt.History.cns_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.create_df_columns">
<span class="sig-name descname"><span class="pre">create_df_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.create_df_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.create_df_columns" title="Link to this definition"></a></dt>
<dd><p>Create columns of history.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.create_optuna_study">
<span class="sig-name descname"><span class="pre">create_optuna_study</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.create_optuna_study"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.create_optuna_study" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.filter_valid">
<span class="sig-name descname"><span class="pre">filter_valid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_trial_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.filter_valid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.filter_valid" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.generate_hidden_infeasible_result">
<span class="sig-name descname"><span class="pre">generate_hidden_infeasible_result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.generate_hidden_infeasible_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.generate_hidden_infeasible_result" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">valid_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.get_df" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>DataFrame</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.is_hidden_infeasible_result">
<span class="sig-name descname"><span class="pre">is_hidden_infeasible_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.is_hidden_infeasible_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.is_hidden_infeasible_result" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.is_processing">
<span class="sig-name descname"><span class="pre">is_processing</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.History.is_processing" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.is_restart">
<span class="sig-name descname"><span class="pre">is_restart</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.History.is_restart" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.load" title="Link to this definition"></a></dt>
<dd><p>Load existing result csv.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.obj_names">
<span class="sig-name descname"><span class="pre">obj_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#pyfemtet.opt.History.obj_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.History.prm_names">
<span class="sig-name descname"><span class="pre">prm_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#pyfemtet.opt.History.prm_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.record">
<span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objectives</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cns_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.record" title="Link to this definition"></a></dt>
<dd><p>Records the optimization results in the history.</p>
<p>Record only. NOT save.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameters</strong> (<em>pd.DataFrame</em>) – The parameter values.</p></li>
<li><p><strong>objectives</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – The objective functions.</p></li>
<li><p><strong>constraints</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – The constraint functions.</p></li>
<li><p><strong>obj_values</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – The objective values.</p></li>
<li><p><strong>cns_values</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – The constraint values.</p></li>
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Additional information or messages related to the optimization results.</p></li>
<li><p><strong>postprocess_func</strong> (<em>Callable</em>) – fem method to call after solving. i.e. save result file. Must take trial(int) for 1st argument.</p></li>
<li><p><strong>postprocess_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – arguments for <cite>postprocess_func</cite>. i.e. create binary data of result file in the worker process.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.save" title="Link to this definition"></a></dt>
<dd><p>Save csv file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.History.set_df">
<span class="sig-name descname"><span class="pre">set_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/_femopt_core.html#History.set_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.History.set_df" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">NoFEM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#NoFEM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.NoFEM" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.interface.html#pyfemtet.opt.interface.FEMInterface" title="pyfemtet.opt.interface._base.FEMInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FEMInterface</span></code></a></p>
<p>Dummy interface without FEM. Intended for debugging purposes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.check_param_value">
<span class="sig-name descname"><span class="pre">check_param_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.NoFEM.check_param_value" title="Link to this definition"></a></dt>
<dd><p>Checks the value of a parameter in the FEM model (if implemented in concrete class).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pyfemtet.opt.NoFEM.kwargs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.load_constraint">
<span class="sig-name descname"><span class="pre">load_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.NoFEM.load_constraint" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.load_objective">
<span class="sig-name descname"><span class="pre">load_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.NoFEM.load_objective" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.load_parameter">
<span class="sig-name descname"><span class="pre">load_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.NoFEM.load_parameter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.object_passed_to_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_passed_to_functions</span></span><a class="headerlink" href="#pyfemtet.opt.NoFEM.object_passed_to_functions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.quit">
<span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.NoFEM.quit" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/interface/_base.html#NoFEM.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.NoFEM.update" title="Link to this definition"></a></dt>
<dd><p>Updates the FEM analysis based on the proposed parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.NoFEM.update_parameter">
<span class="sig-name descname"><span class="pre">update_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.NoFEM.update_parameter" title="Link to this definition"></a></dt>
<dd><p>Updates only FEM variables (if implemented in concrete class).</p>
<p>If this method is implemented,
it is able to get parameter via FEMInterface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>] | None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">OptunaOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampler_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_init_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_optuna.html#OptunaOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.optimizer.html#pyfemtet.opt.optimizer.AbstractOptimizer" title="pyfemtet.opt.optimizer._base.AbstractOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractOptimizer</span></code></a></p>
<p>Optimizer using <code class="docutils literal notranslate"><span class="pre">`optuna`</span></code>.</p>
<p>This class provides an interface for the optimization
engine using Optuna. For more details, please refer to
the Optuna documentation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://optuna.readthedocs.io/en/stable/reference/index.html">https://optuna.readthedocs.io/en/stable/reference/index.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sampler_class</strong> (<em>optuna.samplers.BaseSampler</em><em>, </em><em>optional</em>) – A sampler class from Optuna. If not specified,
<code class="docutils literal notranslate"><span class="pre">`optuna.samplers.TPESampler`</span></code> is specified.
This defines the sampling strategy used during
optimization. Defaults to None.</p></li>
<li><p><strong>sampler_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of keyword arguments to be passed to
the sampler class. This allows for customization
of the sampling process. Defaults to None.</p></li>
<li><p><strong>add_init_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – A method or a collection of methods to be added
during initialization. This can be used to specify
additional setup procedures.
Currently, the only valid value is ‘LHS’
(using Latin Hypercube Sampling).
Defaults to None.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not include <code class="docutils literal notranslate"><span class="pre">`constraints_func`</span></code> in <code class="docutils literal notranslate"><span class="pre">`sampler_kwargs`</span></code>.
It is generated and provided by <a class="reference internal" href="#pyfemtet.opt.FEMOpt.add_constraint" title="pyfemtet.opt.FEMOpt.add_constraint"><code class="xref py py-func docutils literal notranslate"><span class="pre">FEMOpt.add_constraint()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer.add_init_parameter">
<span class="sig-name descname"><span class="pre">add_init_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_optuna.html#OptunaOptimizer.add_init_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer.add_init_parameter" title="Link to this definition"></a></dt>
<dd><p>Add additional initial parameter for evaluate.</p>
<p>The parameter set is ignored if the main() is continued.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> or </em><em>Iterable</em>) – Parameter to evaluate before run optimization algorithm.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em>) – Optional. If specified, the name is saved in the history row. Default to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>Calculate objectives and constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – Optimization parameters.</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of internal objective values,
un-normalized objective values and
constraint values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>Returns the parameters in the specified format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The desired format of the parameters.
Can be ‘df’ (DataFrame),
‘values’ (np.ndarray),
‘dict’ or
‘raw’ (list of Variable object).
Defaults to ‘dict’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameters in the specified format.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If an invalid format is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_optuna.html#OptunaOptimizer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>Set random seed, sampler, study and run study.optimize().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Key is the name of parameter and
the value is the value of it.
The partial set is available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.OptunaOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.OptunaOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>Update parameter with values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – Values of all parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">ScipyOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">minimize_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy.html#ScipyOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.optimizer.html#pyfemtet.opt.optimizer.AbstractOptimizer" title="pyfemtet.opt.optimizer._base.AbstractOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractOptimizer</span></code></a></p>
<p>Optimizer using <code class="docutils literal notranslate"><span class="pre">`scipy`</span></code>.</p>
<p>This class provides an interface for the optimization
engine using Scipy. For more details, please refer to
the Scipy documentation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**minimize_kwargs</strong> – The keyword arguments of
<code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize`</span></code>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer.res">
<span class="sig-name descname"><span class="pre">res</span></span><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer.res" title="Link to this definition"></a></dt>
<dd><p>The return value of <code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OptimizeResult</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>Calculate objectives and constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – Optimization parameters.</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of internal objective values,
un-normalized objective values and
constraint values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>Returns the parameters in the specified format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The desired format of the parameters.
Can be ‘df’ (DataFrame),
‘values’ (np.ndarray),
‘dict’ or
‘raw’ (list of Variable object).
Defaults to ‘dict’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameters in the specified format.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If an invalid format is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy.html#ScipyOptimizer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>Start optimization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Key is the name of parameter and
the value is the value of it.
The partial set is available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>Update parameter with values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – Values of all parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.</span></span><span class="sig-name descname"><span class="pre">ScipyScalarOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">minimize_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy_scalar.html#ScipyScalarOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyfemtet.opt.optimizer.html#pyfemtet.opt.optimizer.AbstractOptimizer" title="pyfemtet.opt.optimizer._base.AbstractOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractOptimizer</span></code></a></p>
<p>Optimizer using <code class="docutils literal notranslate"><span class="pre">`scipy`</span></code>.</p>
<p>This class provides an interface for the optimization
engine using Scipy. For more details, please refer to
the Scipy documentation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize_scalar.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize_scalar.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**minimize_kwargs</strong> – The keyword arguments of
<code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize_scalar`</span></code>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer.res">
<span class="sig-name descname"><span class="pre">res</span></span><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer.res" title="Link to this definition"></a></dt>
<dd><p>The return value of <code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize_scalar`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OptimizeResult</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>Calculate objectives and constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – Optimization parameters.</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of internal objective values,
un-normalized objective values and
constraint values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>Returns the parameters in the specified format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The desired format of the parameters.
Can be ‘df’ (DataFrame),
‘values’ (np.ndarray),
‘dict’ or
‘raw’ (list of Variable object).
Defaults to ‘dict’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parameters in the specified format.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If an invalid format is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy_scalar.html#ScipyScalarOptimizer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>Start optimization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>Update parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Key is the name of parameter and
the value is the value of it.
The partial set is available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.ScipyScalarOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.ScipyScalarOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>Update parameter with values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – Values of all parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyfemtet.logger.html" class="btn btn-neutral float-left" title="pyfemtet.logger package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pyfemtet.opt.interface.html" class="btn btn-neutral float-right" title="pyfemtet.opt.interface package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Kazuma Naito.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>