<!DOCTYPE html>
<html class="writer-html5" lang="ja-JP" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyfemtet.opt.optimizer package &mdash; PyFemtet Project  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=a3bca520"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="pyfemtet.opt.optimizer.parameter.html" />
    <link rel="prev" title="pyfemtet.opt.meta_script package" href="pyfemtet.opt.meta_script.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PyFemtet Project
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ホーム</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/installation.html">インストール</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/examples.html">例題</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/advanced_examples.html">発展的な例題</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/script_builder.html">GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/usage.html">使い方</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pages/api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pages/api.html#most-major-classes">Most Major Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pages/api.html#other-major-classes">Other Major Classes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../pages/api.html#entire-reference">Entire Reference</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pyfemtet.html">pyfemtet package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="pyfemtet.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyfemtet.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyfemtet.html#module-pyfemtet">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pages/LICENSE.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyFemtet Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../pages/api.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="pyfemtet.html">pyfemtet package</a></li>
          <li class="breadcrumb-item"><a href="pyfemtet.opt.html">pyfemtet.opt package</a></li>
      <li class="breadcrumb-item active">pyfemtet.opt.optimizer package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/pyfemtet.opt.optimizer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyfemtet-opt-optimizer-package">
<h1>pyfemtet.opt.optimizer package<a class="headerlink" href="#pyfemtet-opt-optimizer-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.optimizer.parameter.html"><code class="docutils literal notranslate"><span class="pre">Expression</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.optimizer.parameter.html#pyfemtet.opt.optimizer.parameter.ExpressionEvaluator"><code class="docutils literal notranslate"><span class="pre">ExpressionEvaluator</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.optimizer.parameter.html#pyfemtet.opt.optimizer.parameter.Parameter"><code class="docutils literal notranslate"><span class="pre">Parameter</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="pyfemtet.opt.optimizer.parameter.html#pyfemtet.opt.optimizer.parameter.Variable"><code class="docutils literal notranslate"><span class="pre">Variable</span></code></a></li>
</ul>
</div>
</section>
<section id="module-pyfemtet.opt.optimizer">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyfemtet.opt.optimizer" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.optimizer.</span></span><span class="sig-name descname"><span class="pre">AbstractOptimizer</span></span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer" title="Link to this definition"></a></dt>
<dd><p>ベースクラス: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>最適化ライブラリのインターフェースのための抽象基底クラスです。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.fem">
<span class="sig-name descname"><span class="pre">fem</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.fem" title="Link to this definition"></a></dt>
<dd><p>有限要素法オブジェクトです。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="pyfemtet.opt.html#pyfemtet.opt.FEMInterface" title="pyfemtet.opt.FEMInterface">FEMInterface</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.fem_class">
<span class="sig-name descname"><span class="pre">fem_class</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.fem_class" title="Link to this definition"></a></dt>
<dd><p>有限要素法オブジェクトのクラスです。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)">type</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.fem_kwargs">
<span class="sig-name descname"><span class="pre">fem_kwargs</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.fem_kwargs" title="Link to this definition"></a></dt>
<dd><p>有限要素法オブジェクトをインスタンス化するために使用されるキーワード引数です。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.variables" title="Link to this definition"></a></dt>
<dd><p>パラメータを含む最適化プロセスで使用される変数です。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="pyfemtet.opt.optimizer.parameter.html#pyfemtet.opt.optimizer.parameter.ExpressionEvaluator" title="pyfemtet.opt.optimizer.parameter.ExpressionEvaluator">ExpressionEvaluator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.objectives">
<span class="sig-name descname"><span class="pre">objectives</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.objectives" title="Link to this definition"></a></dt>
<dd><p>最適化で使用される目的関数を含む dict です。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, Objective]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.constraints">
<span class="sig-name descname"><span class="pre">constraints</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.constraints" title="Link to this definition"></a></dt>
<dd><p>最適化で使用される拘束関数を含む dict です。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, Constraint]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.history">
<span class="sig-name descname"><span class="pre">history</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.history" title="Link to this definition"></a></dt>
<dd><p>最適化プロセスの各イテレーションの履歴を記録するアクターオブジェクトです。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="pyfemtet.opt.html#pyfemtet.opt.History" title="pyfemtet.opt.History">History</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.seed" title="Link to this definition"></a></dt>
<dd><p>最適化プロセス中の乱数生成に使用されるランダムシードです。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.f"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>目的関数と拘束を計算します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – 最適化パラメータ。</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>内部的に使用されるために変換された目的関数の値、生の目的関数の値、および拘束関数値のリストです。</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.get_parameter"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>指定された形式でパラメータを返します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – パラメータの希望する形式です。 『df』 （DataFrame）、 『values』 （np.ndarray）、 『dict』 、または 『raw』 （Variableオブジェクトのリスト）を指定できます。デフォルトは 『dict』 です。</p>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>指定された形式のパラメータです。</p>
</dd>
<dt class="field-odd">例外<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – 無効な形式が提供された場合です。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.run">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.run"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>最適化を開始します。</p>
<dl class="field-list simple">
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.set_parameter"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>パラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – キーはパラメータの名前で、値はその値です。一部のパラメータのみを与えることができます。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.AbstractOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_base.html#AbstractOptimizer.set_parameter_values"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.AbstractOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>値を使ってパラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – すべてのパラメータの値です。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.optimizer.</span></span><span class="sig-name descname"><span class="pre">OptunaOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampler_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_init_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_optuna.html#OptunaOptimizer"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer" title="Link to this definition"></a></dt>
<dd><p>ベースクラス: <a class="reference internal" href="#pyfemtet.opt.optimizer.AbstractOptimizer" title="pyfemtet.opt.optimizer._base.AbstractOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractOptimizer</span></code></a></p>
<p><code class="docutils literal notranslate"><span class="pre">`optuna`</span></code> を使用する最適化ツールです。</p>
<p>このクラスは Optuna を使用した最適化エンジンのインターフェースを提供します。詳細については、Optuna のドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference external" href="https://optuna.readthedocs.io/en/stable/reference/index.html">https://optuna.readthedocs.io/en/stable/reference/index.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sampler_class</strong> (<em>optuna.samplers.BaseSampler</em><em>, </em><em>optional</em>) – Optuna のサンプラークラスです。指定しない場合は <code class="docutils literal notranslate"><span class="pre">`optuna.samplers.TPESampler`</span></code> が指定されます。これは最適化中に使用されるサンプリング戦略を定義します。デフォルトは None です。</p></li>
<li><p><strong>sampler_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – サンプラークラスに渡されるキーワード引数の辞書です。これにより、サンプリングプロセスのカスタマイズが可能になります。デフォルトは None です。</p></li>
<li><p><strong>add_init_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – 初期化時に追加されるメソッドまたはメソッドのコレクションです。これにより、追加のセットアップ手順を指定できます。現在、唯一の有効な値は 『LHS』（ラテンハイパーキューブサンプリングを使用）です。デフォルトは None です。</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p><code class="docutils literal notranslate"><span class="pre">`sampler_kwargs`</span></code> に <code class="docutils literal notranslate"><span class="pre">`constraints_func`</span></code> を含めないでください。これは <code class="xref py py-func docutils literal notranslate"><span class="pre">FEMOpt.add_constraint()</span></code> によって生成され、内部的にサンプラーに渡されます。</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer.add_init_parameter">
<span class="sig-name descname"><span class="pre">add_init_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_optuna.html#OptunaOptimizer.add_init_parameter"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer.add_init_parameter" title="Link to this definition"></a></dt>
<dd><p>評価のための追加初期パラメータを追加します。</p>
<p>main() が続行される場合、パラメータセットは無視されます。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em> or </em><em>Iterable</em>) – 最適化アルゴリズムを実行する前に評価するパラメータです。</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em>) – オプションです。指定された場合、名前は履歴 csv の各行に保存されます。デフォルトは None です。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>目的関数と拘束を計算します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – 最適化パラメータ。</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>内部的に使用されるために変換された目的関数の値、生の目的関数の値、および拘束関数値のリストです。</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>指定された形式でパラメータを返します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – パラメータの希望する形式です。 『df』 （DataFrame）、 『values』 （np.ndarray）、 『dict』 、または 『raw』 （Variableオブジェクトのリスト）を指定できます。デフォルトは 『dict』 です。</p>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>指定された形式のパラメータです。</p>
</dd>
<dt class="field-odd">例外<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – 無効な形式が提供された場合です。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_optuna.html#OptunaOptimizer.run"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>ランダムシード、サンプラー、スタディを設定し、study.optimize() を実行します。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>パラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – キーはパラメータの名前で、値はその値です。一部のパラメータのみを与えることができます。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.OptunaOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.OptunaOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>値を使ってパラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – すべてのパラメータの値です。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.optimizer.</span></span><span class="sig-name descname"><span class="pre">PoFBoTorchSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidates_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_startup_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consider_running_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">independent_sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pof_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler" title="Link to this definition"></a></dt>
<dd><p>ベースクラス: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSampler</span></code></p>
<p>A sampler that forked from BoTorchSampler.</p>
<p>This sampler improves the BoTorchSampler to account
for known/hidden constraints and repeated penalties.</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference external" href="https://optuna.readthedocs.io/en/v3.0.0-b1/reference/generated/optuna.integration.BoTorchSampler.html">https://optuna.readthedocs.io/en/v3.0.0-b1/reference/generated/optuna.integration.BoTorchSampler.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>candidates_func</strong> (<em>Callable</em><em>[</em><em>[</em><em>'torch.Tensor'</em><em>, </em><em>'torch.Tensor'</em><em>, </em><em>'torch.Tensor'</em><em> | </em><em>None</em><em>, </em><em>'torch.Tensor'</em><em>, </em><em>'torch.Tensor'</em><em> | </em><em>None</em><em>, </em><em>'SingleTaskGP'</em><em>, </em><em>'list</em><em>[</em><em>Constraint</em><em>]</em><em>'</em><em>, </em><em>'Study'</em><em>, </em><em>'OptunaOptimizer'</em><em>, </em><em>'PoFConfig'</em><em>]</em><em>, </em><em>'torch.Tensor'</em><em>] </em><em>| </em><em>None</em>) – <p>An optional function that suggests the next candidates. It must take the training
data, the objectives, the constraints, the search space bounds and return the next
candidates. The arguments are of type <code class="docutils literal notranslate"><span class="pre">torch.Tensor</span></code>. The return value must be a
<code class="docutils literal notranslate"><span class="pre">torch.Tensor</span></code>. However, if <code class="docutils literal notranslate"><span class="pre">constraints_func</span></code> is omitted, constraints will be
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>. For any constraints that failed to compute, the tensor will contain
NaN.</p>
<p>If omitted, it is determined automatically based on the number of objectives and
whether a constraint is specified. If the
number of objectives is one and no constraint is specified, log-Expected Improvement
is used. If constraints are specified, quasi MC-based batch Expected Improvement
(qEI) is used.
If the number of objectives is either two or three, Quasi MC-based
batch Expected Hypervolume Improvement (qEHVI) is used. Otherwise, for a larger number
of objectives, analytic Expected Hypervolume Improvement is used if no constraints
are specified, or the faster Quasi MC-based extended ParEGO (qParEGO) is used if
constraints are present.</p>
<p>The function should assume <em>maximization</em> of the objective.</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">optuna_integration.botorch.qei_candidates_func()</span></code> for an example.</p>
</div>
</p></li>
<li><p><strong>constraints_func</strong> (<em>Callable</em><em>[</em><em>[</em><em>FrozenTrial</em><em>]</em><em>, </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em><em>] </em><em>| </em><em>None</em>) – <p>An optional function that computes the objective constraints. It must take a
<code class="xref py py-class docutils literal notranslate"><span class="pre">FrozenTrial</span></code> and return the constraints. The return value must
be a sequence of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a> s. A value strictly larger than 0 means that a
constraint is violated. A value equal to or smaller than 0 is considered feasible.</p>
<p>If omitted, no constraints will be passed to <code class="docutils literal notranslate"><span class="pre">candidates_func</span></code> nor taken into
account during suggestion.</p>
</p></li>
<li><p><strong>n_startup_trials</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of initial trials, that is the number of trials to resort to independent
sampling.</p></li>
<li><p><strong>consider_running_trials</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – <p>If True, the acquisition function takes into consideration the running parameters
whose evaluation has not completed. Enabling this option is considered to improve the
performance of parallel optimization.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Added in v3.2.0 as an experimental argument.</p>
</div>
</p></li>
<li><p><strong>independent_sampler</strong> (<em>BaseSampler</em><em> | </em><em>None</em>) – An independent sampler to use for the initial trials and for parameters that are
conditional.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> | </em><em>None</em>) – Seed for random number generator.</p></li>
<li><p><strong>device</strong> (<em>'torch.device'</em><em> | </em><em>None</em>) – A <code class="docutils literal notranslate"><span class="pre">torch.device</span></code> to store input and output data of BoTorch. Please set a CUDA device
if you fasten sampling.</p></li>
<li><p><strong>pof_config</strong> (<a class="reference internal" href="#pyfemtet.opt.optimizer.PoFConfig" title="pyfemtet.opt.optimizer.PoFConfig"><em>PoFConfig</em></a><em> or </em><em>None</em>) – Sampler settings.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Added in v2.4.0 as an experimental feature. The interface may change in newer versions
without prior notice. See <a class="reference external" href="https://github.com/optuna/optuna/releases/tag/v2.4.0">https://github.com/optuna/optuna/releases/tag/v2.4.0</a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.after_trial">
<span class="sig-name descname"><span class="pre">after_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler.after_trial"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.after_trial" title="Link to this definition"></a></dt>
<dd><p>Trial post-processing.</p>
<p>This method is called after the objective function returns and right before the trial is
finished and its state is stored.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Added in v2.4.0 as an experimental feature. The interface may change in newer versions
without prior notice. See <a class="reference external" href="https://github.com/optuna/optuna/releases/tag/v2.4.0">https://github.com/optuna/optuna/releases/tag/v2.4.0</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<em>Study</em>) – Target study object.</p></li>
<li><p><strong>trial</strong> (<em>FrozenTrial</em>) – Target trial object.
Take a copy before modifying this object.</p></li>
<li><p><strong>state</strong> (<em>TrialState</em>) – Resulting trial state.</p></li>
<li><p><strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.13)"><em>Sequence</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>| </em><em>None</em>) – Resulting trial values. Guaranteed to not be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if trial succeeded.</p></li>
</ul>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.before_trial">
<span class="sig-name descname"><span class="pre">before_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler.before_trial"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.before_trial" title="Link to this definition"></a></dt>
<dd><p>Trial pre-processing.</p>
<p>This method is called before the objective function is called and right after the trial is
instantiated. More precisely, this method is called during trial initialization, just
before the <code class="xref py py-func docutils literal notranslate"><span class="pre">infer_relative_search_space()</span></code> call. In other
words, it is responsible for pre-processing that should be done before inferring the search
space.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Added in v3.3.0 as an experimental feature. The interface may change in newer versions
without prior notice. See <a class="reference external" href="https://github.com/optuna/optuna/releases/tag/v3.3.0">https://github.com/optuna/optuna/releases/tag/v3.3.0</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<em>Study</em>) – Target study object.</p></li>
<li><p><strong>trial</strong> (<em>FrozenTrial</em>) – Target trial object.</p></li>
</ul>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.infer_relative_search_space">
<span class="sig-name descname"><span class="pre">infer_relative_search_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler.infer_relative_search_space"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.infer_relative_search_space" title="Link to this definition"></a></dt>
<dd><p>Infer the search space that will be used by relative sampling in the target trial.</p>
<p>This method is called right before <code class="xref py py-func docutils literal notranslate"><span class="pre">sample_relative()</span></code>
method, and the search space returned by this method is passed to it. The parameters not
contained in the search space will be sampled by using
<code class="xref py py-func docutils literal notranslate"><span class="pre">sample_independent()</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<em>Study</em>) – Target study object.</p></li>
<li><p><strong>trial</strong> (<em>FrozenTrial</em>) – Target trial object.
Take a copy before modifying this object.</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the parameter names and parameter’s distributions.</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <em>BaseDistribution</em>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p>Please refer to <code class="xref py py-func docutils literal notranslate"><span class="pre">intersection_search_space()</span></code> as an
implementation of <code class="xref py py-func docutils literal notranslate"><span class="pre">infer_relative_search_space()</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.reseed_rng">
<span class="sig-name descname"><span class="pre">reseed_rng</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler.reseed_rng"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.reseed_rng" title="Link to this definition"></a></dt>
<dd><p>Reseed sampler’s random number generator.</p>
<p>This method is called by the <code class="xref py py-class docutils literal notranslate"><span class="pre">Study</span></code> instance if trials are executed
in parallel with the option <code class="docutils literal notranslate"><span class="pre">n_jobs&gt;1</span></code>. In that case, the sampler instance will be
replicated including the state of the random number generator, and they may suggest the
same values. To prevent this issue, this method assigns a different seed to each random
number generator.</p>
<dl class="field-list simple">
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.sample_independent">
<span class="sig-name descname"><span class="pre">sample_independent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_distribution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler.sample_independent"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.sample_independent" title="Link to this definition"></a></dt>
<dd><p>Sample a parameter for a given distribution.</p>
<p>This method is called only for the parameters not contained in the search space returned
by <code class="xref py py-func docutils literal notranslate"><span class="pre">sample_relative()</span></code> method. This method is suitable
for sampling algorithms that do not use relationship between parameters such as random
sampling and TPE.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>The failed trials are ignored by any build-in samplers when they sample new
parameters. Thus, failed trials are regarded as deleted in the samplers』
perspective.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<em>Study</em>) – Target study object.</p></li>
<li><p><strong>trial</strong> (<em>FrozenTrial</em>) – Target trial object.
Take a copy before modifying this object.</p></li>
<li><p><strong>param_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Name of the sampled parameter.</p></li>
<li><p><strong>param_distribution</strong> (<em>BaseDistribution</em>) – Distribution object that specifies a prior and/or scale of the sampling algorithm.</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>A parameter value.</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.sample_relative">
<span class="sig-name descname"><span class="pre">sample_relative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_space</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFBoTorchSampler.sample_relative"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.sample_relative" title="Link to this definition"></a></dt>
<dd><p>Sample parameters in a given search space.</p>
<p>This method is called once at the beginning of each trial, i.e., right before the
evaluation of the objective function. This method is suitable for sampling algorithms
that use relationship between parameters such as Gaussian Process and CMA-ES.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>The failed trials are ignored by any build-in samplers when they sample new
parameters. Thus, failed trials are regarded as deleted in the samplers』
perspective.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<em>Study</em>) – Target study object.</p></li>
<li><p><strong>trial</strong> (<em>FrozenTrial</em>) – Target trial object.
Take a copy before modifying this object.</p></li>
<li><p><strong>search_space</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>BaseDistribution</em><em>]</em>) – The search space returned by
<code class="xref py py-func docutils literal notranslate"><span class="pre">infer_relative_search_space()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the parameter names and the values.</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFBoTorchSampler.use_fixed_noise">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">use_fixed_noise</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFBoTorchSampler.use_fixed_noise" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.optimizer.</span></span><span class="sig-name descname"><span class="pre">PoFConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable_pof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_positive_only_pof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_dynamic_pof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_dynamic_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_repeat_penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_repeat_penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_dynamic_repeat_penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat_watch_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat_watch_norm_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_repeat_penalty_gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_no_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_optuna/_pof_botorch.html#PoFConfig"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig" title="Link to this definition"></a></dt>
<dd><p>ベースクラス: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Configuration of PoFBoTorchSampler</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable_pof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to consider Probability of Feasibility.
Defaults to True.</p></li>
<li><p><strong>gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>torch.Tensor</em>) – Exponent for Probability of Feasibility. A larger value places more emphasis on feasibility.
If 0, Probability of Feasibility is not considered.
Defaults to 1.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>torch.Tensor</em>) – Boundary value for calculating Probability of Feasibility with CDF.
Generally between 0 and 1, with 0.5 being recommended. A larger value places more emphasis on feasibility.
Defaults to 0.5.</p></li>
<li><p><strong>enable_log</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to apply symlog to the base acquisition function values.
Defaults to True.</p></li>
<li><p><strong>enable_positive_only_pof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to apply Probability of Feasibility only when the base acquisition function is positive.
Defaults to False.</p></li>
<li><p><strong>enable_dynamic_pof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to change gamma dynamically. When True, <code class="docutils literal notranslate"><span class="pre">`gamma`</span></code> argument is ignored.
Defaults to True.</p></li>
<li><p><strong>enable_dynamic_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to change threshold dynamically. When True, <code class="docutils literal notranslate"><span class="pre">`threshold`</span></code> argument is ignored.
Defaults to False.</p></li>
<li><p><strong>enable_repeat_penalty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to apply a penalty coefficient on the base acquisition function values near sampled points.
Defaults to True.</p></li>
<li><p><strong>enable_dynamic_repeat_penalty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Enhances the penalty coefficient if the same value is repeated. When True, it behaves as if enable_repeat_penalty is set to True.
Defaults to True.</p></li>
<li><p><strong>repeat_watch_window</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Specifies how many recent proposal values are referenced when determining the magnitude of penalties when enable_dynamic_repeat_penalty is True.
Defaults to 3.</p></li>
<li><p><strong>repeat_watch_norm_distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Defines how small the norm distance between proposed parameters needs to be in normalized parameter space [0, 1]
for a stronger penalty effect. Extreme values may cause numerical instability.
Defaults to 0.1.</p></li>
<li><p><strong>enable_no_noise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to treat observation errors as non-existent
when training the regression model with the objective
function value. The default is True because there is
essentially no observational error in a FEM analysis.
This is different from the original BoTorchSampler
implementation.</p></li>
<li><p><strong>_repeat_penalty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – </p></li>
<li><p><strong>_repeat_penalty_gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_dynamic_pof">
<span class="sig-name descname"><span class="pre">enable_dynamic_pof</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_dynamic_pof" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_dynamic_repeat_penalty">
<span class="sig-name descname"><span class="pre">enable_dynamic_repeat_penalty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_dynamic_repeat_penalty" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_dynamic_threshold">
<span class="sig-name descname"><span class="pre">enable_dynamic_threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_dynamic_threshold" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_log">
<span class="sig-name descname"><span class="pre">enable_log</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_log" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_no_noise">
<span class="sig-name descname"><span class="pre">enable_no_noise</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_no_noise" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_pof">
<span class="sig-name descname"><span class="pre">enable_pof</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_pof" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_positive_only_pof">
<span class="sig-name descname"><span class="pre">enable_positive_only_pof</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_positive_only_pof" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.enable_repeat_penalty">
<span class="sig-name descname"><span class="pre">enable_repeat_penalty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.enable_repeat_penalty" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.gamma">
<span class="sig-name descname"><span class="pre">gamma</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.gamma" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.repeat_watch_norm_distance">
<span class="sig-name descname"><span class="pre">repeat_watch_norm_distance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.repeat_watch_norm_distance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.repeat_watch_window">
<span class="sig-name descname"><span class="pre">repeat_watch_window</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.repeat_watch_window" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.PoFConfig.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#pyfemtet.opt.optimizer.PoFConfig.threshold" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.optimizer.</span></span><span class="sig-name descname"><span class="pre">ScipyOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">minimize_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy.html#ScipyOptimizer"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer" title="Link to this definition"></a></dt>
<dd><p>ベースクラス: <a class="reference internal" href="#pyfemtet.opt.optimizer.AbstractOptimizer" title="pyfemtet.opt.optimizer._base.AbstractOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractOptimizer</span></code></a></p>
<p><code class="docutils literal notranslate"><span class="pre">`scipy`</span></code> を使用する最適化ツールです。</p>
<p>このクラスは Scipy を使用した最適化エンジンのインターフェースを提供します。詳細については、Scipy のドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**minimize_kwargs</strong> – <code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize`</span></code> のキーワード引数です。</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer.res">
<span class="sig-name descname"><span class="pre">res</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer.res" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize`</span></code> の戻り値です。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OptimizeResult</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>目的関数と拘束を計算します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – 最適化パラメータ。</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>内部的に使用されるために変換された目的関数の値、生の目的関数の値、および拘束関数値のリストです。</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>指定された形式でパラメータを返します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – パラメータの希望する形式です。 『df』 （DataFrame）、 『values』 （np.ndarray）、 『dict』 、または 『raw』 （Variableオブジェクトのリスト）を指定できます。デフォルトは 『dict』 です。</p>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>指定された形式のパラメータです。</p>
</dd>
<dt class="field-odd">例外<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – 無効な形式が提供された場合です。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy.html#ScipyOptimizer.run"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>最適化を開始します。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>パラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – キーはパラメータの名前で、値はその値です。一部のパラメータのみを与えることができます。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>値を使ってパラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – すべてのパラメータの値です。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyfemtet.opt.optimizer.</span></span><span class="sig-name descname"><span class="pre">ScipyScalarOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">minimize_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy_scalar.html#ScipyScalarOptimizer"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer" title="Link to this definition"></a></dt>
<dd><p>ベースクラス: <a class="reference internal" href="#pyfemtet.opt.optimizer.AbstractOptimizer" title="pyfemtet.opt.optimizer._base.AbstractOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractOptimizer</span></code></a></p>
<p><code class="docutils literal notranslate"><span class="pre">`scipy`</span></code> を使用する最適化ツールです。</p>
<p>このクラスは Scipy を使用した最適化エンジンのインターフェースを提供します。詳細については、Scipy のドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize_scalar.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize_scalar.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**minimize_kwargs</strong> – <code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize_scalar`</span></code> のキーワード引数です。</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer.res">
<span class="sig-name descname"><span class="pre">res</span></span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer.res" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">`scipy.optimize.minimize_scalar`</span></code> の戻り値です。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OptimizeResult</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer.f">
<span class="sig-name descname"><span class="pre">f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_record_infeasible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer.f" title="Link to this definition"></a></dt>
<dd><p>目的関数と拘束を計算します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) – 最適化パラメータ。</p></li>
<li><p><strong>_record_infeasible</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, skip fem.update() and record self.generate_invalid_results().</p></li>
</ul>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>内部的に使用されるために変換された目的関数の値、生の目的関数の値、および拘束関数値のリストです。</p>
</dd>
<dt class="field-odd">戻り値の型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer.get_parameter" title="Link to this definition"></a></dt>
<dd><p>指定された形式でパラメータを返します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – パラメータの希望する形式です。 『df』 （DataFrame）、 『values』 （np.ndarray）、 『dict』 、または 『raw』 （Variableオブジェクトのリスト）を指定できます。デフォルトは 『dict』 です。</p>
</dd>
<dt class="field-even">戻り値<span class="colon">:</span></dt>
<dd class="field-even"><p>指定された形式のパラメータです。</p>
</dd>
<dt class="field-odd">例外<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – 無効な形式が提供された場合です。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyfemtet/opt/optimizer/_scipy_scalar.html#ScipyScalarOptimizer.run"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer.run" title="Link to this definition"></a></dt>
<dd><p>最適化を開始します。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer.set_parameter" title="Link to this definition"></a></dt>
<dd><p>パラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – キーはパラメータの名前で、値はその値です。一部のパラメータのみを与えることができます。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyfemtet.opt.optimizer.ScipyScalarOptimizer.set_parameter_values">
<span class="sig-name descname"><span class="pre">set_parameter_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyfemtet.opt.optimizer.ScipyScalarOptimizer.set_parameter_values" title="Link to this definition"></a></dt>
<dd><p>値を使ってパラメータを更新します。</p>
<dl class="field-list simple">
<dt class="field-odd">パラメータ<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>np.ndarray</em>) – すべてのパラメータの値です。</p>
</dd>
<dt class="field-even">戻り値の型<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyfemtet.opt.meta_script.html" class="btn btn-neutral float-left" title="pyfemtet.opt.meta_script package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pyfemtet.opt.optimizer.parameter.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Kazuma Naito.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>